<!DOCTYPE html>
<html>
  <head>
    <style>
       #map {
        height: 400px;
        width: 100%;
       }
    </style>
       <script
       src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBSVPml2LiPI1j8QyHWFKF-33sRFZn7nbM">
       </script>
      <!-- <script>
      function start() {
        // 2. Initialize the JavaScript client library.
        gapi.client.init({
          'apiKey': 'AIzaSyBSVPml2LiPI1j8QyHWFKF-33sRFZn7nbM',
          // Your API key will be automatically added to the Discovery Document URLs.
          'discoveryDocs': ['https://people.googleapis.com/$discovery/rest'],
          // // clientId and scope are optional if auth is not required.
          // 'clientId': 'YOUR_WEB_CLIENT_ID.apps.googleusercontent.com',
          // 'scope': 'profile',
        }).then(function() {
          // 3. Initialize and make the API request.
          return gapi.client.people.people.get({
            'resourceName': 'people/me',
            'requestMask.includeField': 'person.names'
          });
        }).then(function(response) {
          console.log(response.result);
        }, function(reason) {
          console.log('Error: ' + reason.result.error.message);
        });
      };
      // 1. Load the JavaScript client library.
      gapi.load('client', start);
      </script> -->
  </head>
  <body>
    <h3>My Google Maps Demo</h3>
    <div id="map"></div>
    <script>
      var positionArray=[
        {
          lat: -24.363,
          lng: 130.044, 
          name: "", 
          safe: "", 
          needs: "None"
         }, 
        {
          lat: -26.363,
          lng: 132.044, 
          name: "", 
          safe: "", 
          needs: "Insulin"
         }, 
        {
          lat: -25.363,
          lng: 131.044, 
          name: "", 
          safe: "", 
          needs: "Medical Assistance"
         }, 
         {
          lat: -20.363,  
          lng: 131.044, 
          name: "", 
          safe: "", 
          needs: "Food"
         }]

      var locations = [
            ["Split",     43.5148515, 16.4490835],
            ["Zagreb",    45.840196,  15.9643316],
            ["Dubrovnik", 42.6457256, 18.094058]
        ];

         function initGoogleMap(){
            
              var infowindow = new google.maps.InfoWindow(); /* SINGLE */
              var map = new google.maps.Map(document.getElementById('map-canvas'), {
                  zoom: 4,
                  center: new google.maps.LatLng(45, 15)
              });
              
              function placeMarker( loc ) {
                var latLng = new google.maps.LatLng( loc[1], loc[2]);
                var marker = new google.maps.Marker({
                  position : latLng,
                  map      : map
                });
                google.maps.event.addListener(marker, 'click', function(){
                    infowindow.close(); // Close previously opened infowindow
                    infowindow.setContent( "<div id='infowindow'>"+ loc[0] +"</div>");
                    infowindow.open(map, marker);
                });
              }
              
              // ITERATE ALL LOCATIONS
              // Don't create functions inside for loops
              // therefore refer to a previously created function
              // and pass your iterating location as argument value:
              for(var i=0; i<locations.length; i++) {
                placeMarker( locations[i] );
              } 
              
            }
            google.maps.event.addDomListener(window, 'load', initGoogleMap);
    </script>
 

    <!-- &callback=initMap -->
  </body>
</html>